syntax = "proto3";

package sentiment;

// Sentiment Analysis Service
service SentimentService {
    // Get sentiment for a specific symbol
    rpc GetSentiment(GetSentimentRequest) returns (GetSentimentResponse);
    
    // Get all current sentiment signals
    rpc GetAllSignals(GetAllSignalsRequest) returns (GetAllSignalsResponse);
}

// Get sentiment request
message GetSentimentRequest {
    // The trading symbol to get sentiment for (e.g., "AAPL", "NIFTY")
    string symbol = 1;
}

// Get sentiment response
message GetSentimentResponse {
    // Whether sentiment data was found for the requested symbol
    bool found = 1;
    // The sentiment signal data (if found)
    Signal signal = 2;
}

// Get all signals request
message GetAllSignalsRequest {}

// Get all signals response
message GetAllSignalsResponse {
    // Array of all available sentiment signals
    repeated Signal signals = 1;
}

// Sentiment signal
message Signal {
    // The trading symbol this signal applies to
    string symbol = 1;
    // Sentiment score from -1.0 (very bearish) to 1.0 (very bullish)
    double sentiment = 2;
    // Trading signal type: "buy", "sell", or "neutral"
    string signal_type = 3;
    // Confidence level of the signal from 0.0 to 1.0
    double confidence = 4;
    // Unix timestamp when the signal was generated
    int64 timestamp = 5;
    // Source of the sentiment data (e.g., "news", "social_media", "analyst_reports")
    string source = 6;
}